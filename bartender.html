<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Social Media Data Charts</title>
<script type="text/javascript" src="/home/li/Documents/DataViz/D3/d3.js">

</script>
</head>
<body>
  <h1> Demographics across Social Media Sites</h1>
    <svg id="Gender" height="300" width="500" style="border: 1px solid grey;">
    </svg>
    <svg id="Race" height="300" width="500" style="border: 1px solid grey;">
    </svg>
    <svg id="Age" height="300" width="500" style="border: 1px solid grey;">
    </svg>
    <svg id="Education" height="300" width="500" style="border: 1px solid grey;">
    </svg>
    <svg id="Income" height="300" width="500" style="border: 1px solid grey;">
    </svg>
    <svg id="Place" height="300" width="500" style="border: 1px solid grey;">
    </svg>

<script type="text/javascript">

var Gsvg = d3.select("#Gender")
var height = Gsvg.attr("height");
var width = Gsvg.attr("width");

var Rsvg = d3.select("#Race");
var height = Rsvg.attr("height");
var width = Rsvg.attr("width");

var Asvg = d3.select("#Age");
var height = Asvg.attr("height");
var width = Asvg.attr("width");

var Esvg = d3.select("#Education");
var height = Esvg.attr("height");
var width = Esvg.attr("width");

var Isvg = d3.select("#Income");
var height = Isvg.attr("height");
var width = Isvg.attr("width");

var Psvg = d3.select("#Place");
var height = Psvg.attr("height");
var width = Psvg.attr("width");

var dataset = [
  {"total": 30, "male": 30, "female": 20, "white" : 32 , "black": 45, "hispanic": 44, "young": 33, "middle": 43, "old": 45, "senior":4,"highschool": 33, "some": 21, "college": 32, "poor": 21, "fine": 34, "average": 44, "rich": 78},

  { "total": 70, "male": 70, "female": 20, "white" : 21, "black": 45, "hispanic": 44, "young": 33, "middle": 43, "old": 45, "senior": 45, "highschool": 33, "some": 21, "college": 32, "poor": 21, "fine": 34, "average": 44, "rich": 78},

  { "total": 110, "male": 100, "female": 20, "white" : 66, "black": 45, "hispanic": 44, "young": 33, "middle": 43, "old": 45, "senior": 45, "highschool": 33, "some": 21, "college": 32, "poor": 21, "fine": 34, "average": 44, "rich": 78},

  { "total": 70, "male": 70, "female": 20, "white" : 64, "black": 45, "hispanic": 44, "young": 33, "middle": 43, "old": 45, "senior": 45, "highschool": 33, "some": 21, "college": 32, "poor": 21, "fine": 34, "average": 44, "rich": 78},

  { "total": 70, "male": 70, "female": 20, "white" : 71, "black": 45, "hispanic": 44, "young": 33, "middle": 43, "old": 45, "senior": 45, "highschool": 33, "some": 21, "college": 32, "poor": 21, "fine": 34, "average": 44, "rich": 78},

  { "total": 70, "male": 70, "female": 20, "white" : 13, "black": 45, "hispanic": 44, "young": 33, "middle": 43, "old": 45, "senior": 45, "highschool": 33, "some": 21, "college": 32, "poor": 21, "fine": 34, "average": 44, "rich": 78}];

function GenderBars(){
  var stack = d3.layout.stack();
    stack(dataset);

  var rects = groups.selectAll("rect")
    .data(function(d) { return d; })
    .enter()
    .append("rect")
    .attr("x", function(d, i) {return xScale(i);})
    .attr("y", function(d) {return yScale(d.y0);})
    .attr("height", function(d) {return yScale(d.y);})
    .attr("width", xScale.rangeBand());

    barPadding = 10;
    Gsvg.selectAll("rect")
    .data(dataset)
    .enter()
    .append("rect")
    .attr("x", function(d, i) {return i * (width / dataset.length) + barPadding;})
    .attr("y", 40)
    .attr("width", 20)
    .attr("height", function(d){return d.male})
    .style("fill", "blue");

    Gsvg.selectAll("rect")
    .data(dataset)
    .enter()
    .append("rect")
    .attr("x", 2)
    .attr("y", 40)
    .attr("width", 20)
    .attr("height", function(d){return d.female})
    .style("fill", "red");
}
GenderBars()
/*function bars(){
    barPadding = 1;
    var sites = ["facebook","pinterest","instagram","linkedin","twitter"];
    var demos = {
    "gender": ["male","female"],
    "race": ["white","black","hispanic"],
    "age": ["young","middle","old","senior"],
    "school": ["highschool","some","college"],
    "money": ["poor","fine","average","rich"],
    "loc": ["urban","suburban","rural"]
    }*/
/*    svgs = ["Gsvg", "Rsvg", "Asvg", "Esvg", "Isvg", "Psvg"];
    for (i=0; i<(svgs.length); i++){
    var currentsvg = d3.select(svgs[i])
    currentsvg.selectAll("rect")
    .data(data)
    .enter()
    .append("rect")
    .attr("x", 20)
    .attr("y", 40)
    .attr("width", width / data.length - barPadding)
    .attr("height", function(d){return d[demos[i]]})
    .style("fill", "blue");*/
    }
}

</script>
</body>
</html>